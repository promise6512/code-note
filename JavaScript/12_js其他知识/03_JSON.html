<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src='./02_二级菜单/js/json2.js'></script>
    <script>
        /* 
            JSON
                -JS中的对象只有自己认识 其他的语言都不认识
                -JSON是特殊格式的字符串 这个字符串可以被任何语言识别
                    并且可以转换为任意语言的对象 JSON在开发中主要用来数据语言的交换
        */

        /* 
            JSON
                -全称: JavaScript Object Notation js对象表示法
                -JSON和JS对象的格式一样 只不过JSON字符串中的属性名必须加双引号
                    其他和JS语法一样
                JSON对象分类:
                    1.对象{}
                    2.数组{}
                JSON中允许的值:
                    1.字符串
                    2.数值
                    3.布尔值
                    4.null
                    5.对象(不包括函数)
                    6.数组
         */

        //以下都是合法的JSON
        var obj = '{"name":"孙悟空","age":18,"gender":"男"}';

        var arr = '[1,2,3,"hello",true]';

        var obj2 = '{"arr":[1,2,3]}';

        var arr2 = '[{"name":"孙悟空","age":18,"gender":"男"},{"name":"孙悟空","age":18,"gender":"男"}]';
        
        /* 
            在JS中为我们提供了一个工具类:JSON
                这个对象可以帮助我们将一个JSON转换为JS对象
            JSON-->js对象
                JSON.parse()
                    -可以将JSON字符串转换为JS对象
                    -它需要一个字符串作为参数 将该字符串转换为js对象并返回
            js对象-->JSON
                -JSON.stringify()
                    -可以将一个JS对象转换为JSON字符串
                    -需要一个JS对象作为参数 会返回也给JSON字符串
        */
        var sun = JSON.parse(obj);
        console.log(sun)
        
        var obj3 = {name:'猪八戒',age:28,gender:'男'}
        var str = JSON.stringify(obj3);
        console.log(str)

         /* 
            JSON在IE7及以下不支持

            eval()
                -这个函数可以用来执行一段字符串形式的JS代码并将执行结果返回
                -如果使用evel()执行的字符串含有{} 它会将{}当成代码块
                   -如果不希望将其解析为代码块 则需要加括号

                -eval()这个函数功能很强大 可以直接执行一个字符串中的js代码
                   -但是在开发中尽量不要使用，它的执行性能比较差 而且具有安全隐患

         */
        var str1 = 'alert(123)';
        var obj = eval('('+str+')')
        console.log(eval('('+str+')').name)

        /* 
           如果需要兼容IE7及以下的JSON操作 则可以通过引入外部js文件来处理
        */

    </script>
</head>

<body>

</body>

</html>